je_uzb_silicon_and_silk_road = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/objectives/economic_dominance.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = { c:UZB ?= THIS }

	invalid = { NOT = { c:UZB ?= THIS } }


	complete = {
		# Silk plantations in Samarqand (historic Silk Road hub)
		custom_tooltip = {
			text = uzb_je_silicon_and_silk_road_tt_silk
			any_scope_building = {
				is_building_type = building_silk_plantation
				level >= 8
				state = { state_region = s:STATE_SAMARQAND }
			}
		}
	
		# Textile mills (processing silk and cotton into textiles)
		custom_tooltip = {
			text = uzb_je_silicon_and_silk_road_tt_textile
			any_scope_building = {
				is_building_type = building_textile_mill
				level >= 10
				state = { OR = { state_region = s:STATE_SAMARQAND state_region = s:STATE_BUKHARA } }
			}
		}
	
		# Trade centers (revitalizing Silk Road commerce)
		custom_tooltip = {
			text = uzb_je_silicon_and_silk_road_tt_trade
			any_scope_building = {
				is_building_type = building_trade_center
				level >= 5
				state = { state_region = s:STATE_SAMARQAND }
			}
		}
	
		# GDP requirement
		custom_tooltip = {
			text = uzb_je_silicon_and_silk_road_tt_gdp
			gdp >= 10000000
		}
	}
	

	is_progressing = {
		OR = {
			any_scope_building = {
				is_building_type = building_silk_plantation
				is_under_construction = yes
				state = { state_region = s:STATE_SAMARQAND }
			}
			any_scope_building = {
				is_building_type = building_textile_mill
				is_under_construction = yes
				state = { OR = { state_region = s:STATE_SAMARQAND state_region = s:STATE_BUKHARA } }
			}
			any_scope_building = {
				is_building_type = building_trade_center
				is_under_construction = yes
				state = { state_region = s:STATE_SAMARQAND }
			}
			gdp >= 2500000
		}
	}

	current_value = {
		value = gdp
	}

	goal_add_value = {
		value = 10000000
		subtract = gdp
	}

	progressbar = yes
	

	on_monthly_pulse = {
		effect = {
			# Check silk plantation progress in Samarqand
			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_silk_plantation
						state = { state_region = s:STATE_SAMARQAND }
						level >= 8
					}
					NOT = { has_variable = uzb_silk_milestone }
				}
				set_variable = uzb_silk_milestone
				trigger_event = { id = uzb_silk_road_silk_progress }
			}
		
			# Check textile mill progress
			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_textile_mill
						state = { OR = { state_region = s:STATE_SAMARQAND state_region = s:STATE_BUKHARA } }
						level >= 10
					}
					NOT = { has_variable = uzb_textile_milestone }
				}
				set_variable = uzb_textile_milestone
				trigger_event = { id = uzb_silk_road_textile_progress }
			}
		
			# Check trade center progress
			if = {
				limit = {
					any_scope_building = {
						is_building_type = building_trade_center
						state = { state_region = s:STATE_SAMARQAND }
						level >= 5
					}
					NOT = { has_variable = uzb_trade_milestone }
				}
				set_variable = uzb_trade_milestone
				trigger_event = { id = uzb_silk_road_complete }
			}
		}
	}

	current_value = {
		value = gdp
	}

	goal_add_value = {
		value = 10000000
		subtract = gdp
	}

	progressbar = yes
	progress_desc = je_uzb_silicon_and_silk_road_progress
	
	on_complete = {
		hidden_effect = {
			trigger_event = { id = uzb_silk_road_complete }
		}
	}
}

je_uzb_ulughbek_scholars = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/event_icons/industry.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = { c:UZB ?= THIS }

	invalid = { NOT = { c:UZB ?= THIS } }

	complete = {
		custom_tooltip = {
			text = uzb_je_ulughbek_tt_university_tashkent
			any_scope_building = {
				is_building_type = building_university
				level >= 1
				state = { state_region = s:STATE_TOSHKENT }
			}
		}
		custom_tooltip = {
			text = uzb_je_ulughbek_tt_university_samarqand
			any_scope_building = {
				is_building_type = building_university
				level >= 1
				state = { state_region = s:STATE_SAMARQAND }
			}
		}
		custom_tooltip = {
			text = uzb_je_ulughbek_tt_literacy
			literacy_rate >= 0.50
		}
	}

	current_value = {
		value = literacy_rate
		multiply = 100
	}

	goal_add_value = {
		value = 50
		subtract = {
			value = literacy_rate
			multiply = 100
		}
	}

	progressbar = yes
	progress_desc = je_uzb_ulughbek_scholars_progress

	on_complete = {
		show_as_tooltip = {
			custom_tooltip = uzb_je_ulughbek_reward_tt
		}
		hidden_effect = {
			trigger_event = {
				id = uzb_journal_rewards.1
				popup = no
			}
		}
	}
}

je_uzb_amir_temur_army = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/event_icons/victory.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = { c:UZB ?= THIS }

	invalid = { NOT = { c:UZB ?= THIS } }

	complete = {
		custom_tooltip = {
			text = uzb_je_temur_army_tt_barracks_tashkent
			any_scope_building = {
				is_building_type = building_barracks
				level >= 15
				state = { state_region = s:STATE_TOSHKENT }
				
			}
		}
		custom_tooltip = {
			text = uzb_je_temur_army_tt_barracks_samarqand
			any_scope_building = {
				is_building_type = building_barracks
				level >= 10
				state = { state_region = s:STATE_SAMARQAND }
			}
		}
		custom_tooltip = {
			text = uzb_je_temur_army_tt_barracks_bukhara
			any_scope_building = {
				is_building_type = building_barracks
				level >= 10
				state = { state_region = s:STATE_BUKHARA }
			}
		}
		custom_tooltip = {
			text = uzb_je_temur_army_tt_arms
			any_scope_building = {
				is_building_type = building_arms_industry
				level >= 5
			}
		}
		custom_tooltip = {
			text = uzb_je_temur_army_tt_artillery
			any_scope_building = {
				is_building_type = building_artillery_foundry
				level >= 3
			}
		}
	}

	on_complete = {
		show_as_tooltip = {
			custom_tooltip = uzb_je_temur_army_claims_reward_tt
		}
		show_as_tooltip = {
			custom_tooltip = uzb_je_temur_army_reward_tt
		}
		hidden_effect = {
			set_variable = uzb_temur_claims_unlocked
			s:STATE_SAMARQAND = { add_claim = ROOT }
			s:STATE_BUKHARA = { add_claim = ROOT }
			s:STATE_TOSHKENT = { add_claim = ROOT }
			s:STATE_FERGANA = { add_claim = ROOT }
			s:STATE_KHIVA = { add_claim = ROOT }
			s:STATE_FARS = { add_claim = ROOT }
			s:STATE_ISFAHAN = { add_claim = ROOT }
			s:STATE_KHORASAN = { add_claim = ROOT }
			s:STATE_HERAT = { add_claim = ROOT }
			s:STATE_KABUL = { add_claim = ROOT }
			s:STATE_DELHI = { add_claim = ROOT }
			s:STATE_AGRA = { add_claim = ROOT }
			s:STATE_PUNJAB = { add_claim = ROOT }
			s:STATE_SINDH = { add_claim = ROOT }
			s:STATE_GUJARAT = { add_claim = ROOT }
			s:STATE_HYDERABAD = { add_claim = ROOT }
			s:STATE_KASHMIR = { add_claim = ROOT }
			s:STATE_MERZ = { add_claim = ROOT }
			s:STATE_SYRDARYA = { add_claim = ROOT }
			s:STATE_TAJIKISTAN = {
				add_claim = ROOT
			}
			

			trigger_event = {
				id = uzb_journal_rewards.2
				popup = no
			}
		}
	}
}

je_uzb_amir_temur_babur_claims = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/objectives/economic_dominance.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = {
		c:UZB ?= THIS
		has_variable = uzb_temur_claims_unlocked
	}

	invalid = { NOT = { c:UZB ?= THIS } }
	possible = { has_variable = uzb_temur_claims_unlocked }

	complete = {
		custom_tooltip = {
			text = uzb_je_temur_babur_tt_central_asia
			owns_entire_state_region = STATE_SAMARQAND
			owns_entire_state_region = STATE_BUKHARA
			owns_entire_state_region = STATE_TOSHKENT
			owns_entire_state_region = STATE_FERGANA
			owns_entire_state_region = STATE_KHIVA
		}
		custom_tooltip = {
			text = uzb_je_temur_babur_tt_persia
			owns_entire_state_region = STATE_FARS
			owns_entire_state_region = STATE_ISFAHAN
			owns_entire_state_region = STATE_KHORASAN
			owns_entire_state_region = STATE_HERAT
			owns_entire_state_region = STATE_KABUL
		}
		custom_tooltip = {
			text = uzb_je_temur_babur_tt_india
			owns_entire_state_region = STATE_DELHI
			owns_entire_state_region = STATE_AGRA
			owns_entire_state_region = STATE_PUNJAB
			owns_entire_state_region = STATE_SINDH
			owns_entire_state_region = STATE_GUJARAT
			owns_entire_state_region = STATE_HYDERABAD
			owns_entire_state_region = STATE_KASHMIR
		}
	}

	on_complete = {
		show_as_tooltip = {
			custom_tooltip = uzb_je_temur_babur_reward_tt
		}
		hidden_effect = {
			trigger_event = {
				id = uzb_journal_rewards.3
				popup = no
			}
		}
	}
}

je_uzb_golden_era = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/event_icons/agriculture.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = { c:UZB ?= THIS }

	invalid = { NOT = { c:UZB ?= THIS } }

	complete = {
		custom_tooltip = {
			text = uzb_je_golden_era_tt_literacy
			literacy_rate >= 0.70
		}
		custom_tooltip = {
			text = uzb_je_golden_era_tt_radicals
			radical_fraction = {
				value < 0.10
			}
		}
		custom_tooltip = {
			text = uzb_je_golden_era_tt_gdp
			gdp >= 30000000
		}
	}

	current_value = {
		value = gdp
	}

	goal_add_value = {
		value = 30000000
		subtract = gdp
	}

	progressbar = yes
	progress_desc = je_uzb_golden_era_progress

	on_complete = {
		show_as_tooltip = {
			custom_tooltip = uzb_je_golden_era_reward_tt
		}
		hidden_effect = {
			trigger_event = {
				id = uzb_journal_rewards.4
				popup = no
			}
		}
	}
}

je_uzb_colonial_frontiers = {
	should_be_pinned_by_default = yes
	icon = "gfx/interface/icons/event_icons/trade.dds"
	group = je_group_objectives

	is_shown_in_lobby = { c:UZB ?= THIS }
	is_shown_when_inactive = {
		c:UZB ?= THIS
		NOT = { has_law_or_variant = law_type:law_no_colonial_affairs }
	}

	invalid = { NOT = { c:UZB ?= THIS } }

	possible = {
		OR = {
			has_law_or_variant = law_type:law_colonial_exploitation
			has_law_or_variant = law_type:law_colonial_resettlement
		}
	}

	complete = {
		custom_tooltip = {
			text = uzb_je_colonial_tt_law
			OR = {
				has_law_or_variant = law_type:law_colonial_exploitation
				has_law_or_variant = law_type:law_colonial_resettlement
			}
		}
		custom_tooltip = {
			text = uzb_je_colonial_tt_institution
			institution:institution_colonial_affairs >= 3
		}
		custom_tooltip = {
			text = uzb_je_colonial_tt_colony
			any_subject_or_below = {
				is_subject_type = subject_type_colony
				count >= 1
			}
		}
	}

	on_complete = {
		show_as_tooltip = {
			custom_tooltip = uzb_je_colonial_reward_tt
		}
		hidden_effect = {
			trigger_event = {
				id = uzb_journal_rewards.5
				popup = no
			}
		}
	}
}
